<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>é›™ä¸»é¡ŒæŠ•è³‡çµ„åˆå†å¹³è¡¡è¨ˆç®—å™¨</title>
    <style>
        /* ****** æ ¸å¿ƒè®Šé‡å®šç¾© (ä¾†è‡ªèˆŠè¨ˆç®—æ©Ÿ) ****** */
        :root {
            --orange-calc: #FF8F4A; /* ä¸»è¦æ“ä½œæ©™è‰² */
            --orange-shadow: 0 5px 10px rgba(255, 143, 74, 0.5);
            --transition-speed: 0.3s ease;
            --calc-radius: 40px; /* è¨ˆç®—æ©Ÿå¤§åœ“è§’ */
            --button-radius: 20px; /* æŒ‰éˆ•åœ“è§’ */
            --form-bg-light: #f5f5f5; /* è¡¨å–®è¼¸å…¥èƒŒæ™¯ */
            --form-bg-dark: #1a1e22;
            --input-border-light: 1px solid rgba(0, 0, 0, 0.1);
            --input-border-dark: 1px solid rgba(45, 52, 60, 0.5);
            --table-header-bg: var(--key-secondary-bg);
            --table-text-color: var(--key-text-color);
        }
        
        /* ------------------------------------- */
        /* æ·ºè‰²æ¨¡å¼ (Glassmorphism) è®Šé‡ */
        /* ------------------------------------- */
        .light-theme {
            --bg-color: linear-gradient(135deg, #D9E4FF, #E0C7FF);
            --container-bg: rgba(255, 255, 255, 0.45); /* é€æ˜ç»ç’ƒ */
            --calc-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15);
            --display-color: #333333;
            --key-default-bg: rgba(255, 255, 255, 0.6);
            --key-secondary-bg: rgba(200, 200, 200, 0.3);
            --key-shadow: 4px 4px 8px rgba(0, 0, 0, 0.08), -4px -4px 8px rgba(255, 255, 255, 0.8);
            --key-text-color: #333333;
            --border-style: 1px solid rgba(255, 255, 255, 0.3);
            --input-bg: rgba(255, 255, 255, 0.8);
        }

        /* ------------------------------------- */
        /* æ·±è‰²æ¨¡å¼ (Dark Neumorphism) è®Šé‡ */
        /* ------------------------------------- */
        .dark-theme {
            --bg-color: linear-gradient(145deg, #2c323a, #1a1e22);
            --container-bg: #22272c;
            --calc-shadow: 15px 15px 30px rgba(0, 0, 0, 0.5), -15px -15px 30px rgba(45, 52, 60, 0.5);
            --display-color: #ffffff;
            --key-default-bg: #272c33;
            --key-secondary-bg: #1e2227;
            --key-shadow: 5px 5px 10px #1a1e22, -5px -5px 10px #2c323a;
            --key-text-color: #ffffff;
            --border-style: none;
            --input-bg: #1e2227;
        }

        /* ****** é€šç”¨æ¨£å¼ (æ•´åˆèˆŠè¨ˆç®—æ©Ÿ) ****** */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: 20px;
            background: var(--bg-color); /* ä¸»é¡ŒèƒŒæ™¯ */
            transition: background var(--transition-speed);
            color: var(--display-color); /* çµ±ä¸€å­—é«”é¡è‰² */
        }
        
        .calculator { /* æ›¿æ›äº†ä½ åŸä¾†çš„ .container */
            background: var(--container-bg);
            padding: 25px;
            border-radius: var(--calc-radius);
            box-shadow: var(--calc-shadow);
            width: 100%;
            max-width: 650px; 
            border: var(--border-style);
            transition: all var(--transition-speed);
            position: relative;
            color: var(--key-text-color); /* ç¢ºä¿å…§éƒ¨æ–‡å­—é¡è‰²è·Ÿéš¨ä¸»é¡Œ */
        }

        h2 {
            text-align: center;
            color: var(--display-color);
            margin-bottom: 25px;
            font-size: 1.6rem;
            transition: color var(--transition-speed);
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--key-text-color);
            opacity: 0.85;
        }

        /* è¼¸å…¥æ¡†æ¨£å¼ */
        input[type="number"], input[type="text"] {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 10px; /* ç•¥å¾®åœ“è§’ */
            font-size: 1rem;
            box-sizing: border-box;
            color: var(--display-color);
            background: var(--input-bg);
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), inset -2px -2px 5px rgba(255, 255, 255, 0.5);
            transition: all var(--transition-speed);
        }
        .dark-theme input[type="number"], .dark-theme input[type="text"] {
             box-shadow: inset 3px 3px 6px #1a1e22, inset -3px -3px 6px #2c323a;
             background: var(--key-secondary-bg);
        }
        
        /* ------------------------------------- */
        /* æŒ‰éˆ•æ¨£å¼ (ä½¿ç”¨èˆŠè¨ˆç®—æ©Ÿçš„ .key æ¦‚å¿µ) */
        /* ------------------------------------- */
        .config-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        .config-buttons button, button#calculate-btn {
            padding: 15px 10px;
            border: none;
            border-radius: var(--button-radius);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-speed);
            color: var(--key-text-color);
            background: var(--key-default-bg);
            box-shadow: var(--key-shadow);
        }

        /* config-buttons (æ¬¡è¦æŒ‰éˆ•ï¼Œç”¨ secondary é¡è‰²) */
        .config-buttons button {
             flex: 1;
             background: var(--key-secondary-bg);
             color: var(--key-text-color);
             box-shadow: var(--key-shadow);
        }
        .config-buttons button.active {
             background: var(--orange-calc); /* ä¸»é¡Œæ©™è‰²ä½œç‚ºé¸ä¸­/æ´»å‹•ç‹€æ…‹ */
             color: white;
             box-shadow: var(--orange-shadow);
        }

        /* Calculate æŒ‰éˆ• (ä½¿ç”¨ operator æ©™è‰²) */
        button#calculate-btn {
            width: 100%;
            background: var(--orange-calc); 
            color: white;
            box-shadow: var(--orange-shadow);
            margin-top: 15px;
            font-size: 1.15rem;
        }
        
        /* æŒ‰ä¸‹æ•ˆæœ */
        .config-buttons button:active, button#calculate-btn:active {
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.2), inset -2px -2px 5px rgba(255, 255, 255, 0.5);
            transform: scale(0.98);
        }
        .dark-theme .config-buttons button:active, .dark-theme button#calculate-btn:active {
            box-shadow: inset 4px 4px 8px #1a1e22, inset -4px -4px 8px #2c323a;
        }


        /* ------------------------------------- */
        /* çµæœå€åŸŸ (æ•´åˆä¸»é¡Œ) */
        /* ------------------------------------- */
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
            color: var(--key-text-color);
        }
        .summary-table th, .summary-table td {
            text-align: left;
            padding: 10px;
            border-bottom: 1px solid var(--key-secondary-bg); /* ç”¨æ¬¡è¦èƒŒæ™¯è‰²åšåˆ†éš”ç·š */
            font-size: 0.95rem;
            transition: all var(--transition-speed);
        }
        .summary-table th {
            background-color: var(--key-secondary-bg);
            color: var(--key-text-color);
            font-weight: 600;
        }
        .highlight {
            font-weight: bold;
            color: var(--orange-calc); /* çµæœæ•¸å­—ç”¨æ©™è‰²å¼·èª¿ */
        }
        
        /* ç‹€æ…‹/å»ºè­° å®¹å™¨ */
        .status-box, .action-steps, .dca-advice {
             border-radius: 12px;
             margin-top: 15px;
             padding: 15px;
             font-size: 0.95rem;
             transition: all var(--transition-speed);
        }

        .status-ok { /* ç¶ è‰²ä¿æŒä¸è®Š */
             background-color: #c6f6d5;
             color: #22543d;
             border: 1px solid #9ae6b4;
        }
        .status-warn { /* ç´…è‰²ä¿æŒä¸è®Š */
             background-color: #fed7d7;
             color: #742a2a;
             border: 1px solid #feb2b2;
        }
        
        /* å»ºè­°å€å¡Š */
        .action-steps {
             background-color: var(--key-secondary-bg);
             border-left: 4px solid var(--orange-calc); 
             color: var(--key-text-color);
        }
        .dca-advice {
             background-color: var(--key-secondary-bg);
             border-left: 4px solid var(--display-color); /* ç”¨ä¸»é¡Œæ–‡å­—è‰² */
             color: var(--key-text-color);
        }
        
        .note {
             font-size: 0.8rem;
             color: var(--key-text-color);
             opacity: 0.6;
             margin-top: 20px;
             text-align: center;
        }

        /* ------------------------------------- */
        /* ä¸»é¡Œåˆ‡æ›é–‹é—œ (å¾èˆŠè¨ˆç®—æ©Ÿè¤‡è£½) */
        /* ------------------------------------- */
        .theme-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            width: 50px;
            height: 25px;
            background: var(--key-secondary-bg);
            border-radius: 12.5px;
            cursor: pointer;
            box-shadow: var(--key-shadow);
            transition: background var(--transition-speed);
        }
        .theme-toggle::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--orange-calc);
            border-radius: 50%;
            top: 2.5px;
            left: 2.5px;
            transition: transform var(--transition-speed);
        }
        .dark-theme .theme-toggle::before {
            transform: translateX(25px);
        }
        .toggle-label {
            position: absolute;
            top: 55px;
            right: 0px;
            color: var(--display-color);
            font-size: 0.8rem;
            opacity: 0.7;
            transition: color var(--transition-speed);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .result-panel {
            margin-top: 25px;
            display: none;
            animation: fadeIn 0.5s;
        }

    </style>
</head>
<body class="light-theme">

<div class="calculator">
    
    <div id="theme-toggle" class="theme-toggle" onclick="toggleTheme()"></div>
    <div class="toggle-label" id="theme-label">æ·ºè‰²æ¨¡å¼ (Glassmorphism)</div>
    
    <h2>ğŸ“Š çµ„åˆå†å¹³è¡¡èˆ‡æœˆä¾›è©•ä¼° (K$)</h2>
    
    <div class="input-group">
        <label>ğŸ¯ **è¨­å®šç›®æ¨™æ¯”ä¾‹ (Asset A / Asset B)**</label>
        <div class="config-buttons">
            <button id="btn-80-20" class="active" onclick="setTarget(80, 20)">80% / 20%</button>
            <button id="btn-70-30" onclick="setTarget(70, 30)">70% / 30%</button>
            <button id="btn-60-40" onclick="setTarget(60, 40)">60% / 40%</button>
            <button id="btn-50-50" onclick="setTarget(50, 50)">50% / 50%</button>
        </div>
    </div>

    <div class="asset-config-row">
        <div class="input-group">
            <label for="assetAName">æ ¸å¿ƒè³‡ç”¢åç¨± (Asset A):</label>
            <input type="text" id="assetAName" value="QQQ" placeholder="ä¾‹å¦‚: VOO, QQQ">
        </div>
        <div class="input-group">
            <label for="assetBName">è¡›æ˜Ÿè³‡ç”¢åç¨± (Asset B):</label>
            <input type="text" id="assetBName" value="JEPI" placeholder="è«‹è¼¸å…¥ (ä¾‹å¦‚: BND, JEPI)">
        </div>
    </div>

    <div class="input-group">
        <label for="tolerance">âš–ï¸ **å®¹å¿åº¦ (ç™¾åˆ†æ¯” %)**</label>
        <input type="number" id="tolerance" value="5" placeholder="ä¾‹å¦‚: 5 (ä»£è¡¨ Â±5%)">
    </div>

    <hr style="margin: 20px 0; border-color: var(--key-secondary-bg);">
    
    <div class="asset-config-row">
        <div class="input-group">
            <label id="assetALabel" for="qqqVal">QQQ ç•¶å‰å¸‚å€¼ (K$)</label>
            <input type="number" id="qqqVal" placeholder="ä¾‹å¦‚: 8.50">
        </div>
        <div class="input-group">
            <label id="assetBLabel" for="jepiVal">JEPI ç•¶å‰å¸‚å€¼ (K$)</label>
            <input type="number" id="jepiVal" placeholder="ä¾‹å¦‚: 1.50">
        </div>
    </div>
    
    <div class="input-group">
        <label for="dcaAmount">ğŸ“ˆ æ¯æœˆä¾›æ¬¾é‡‘é¡ (K$)</label>
        <input type="number" id="dcaAmount" placeholder="ä¾‹å¦‚: 0.50 (å³ $500)">
    </div>

    <button id="calculate-btn" onclick="calculate()">åŸ·è¡Œè¨ˆç®—èˆ‡è©•ä¼°</button>

    <div id="resultPanel" class="result-panel">
        
        <table class="summary-table">
            <thead>
                <tr>
                    <th>è³‡ç”¢</th>
                    <th>ç›®å‰å¸‚å€¼ (K$)</th>
                    <th>ç›®å‰æ¯”ä¾‹</th>
                    <th>ç›®æ¨™</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td id="resAssetNameA">QQQ</td>
                    <td id="resQQQVal" class="highlight">-</td>
                    <td id="resQQQPct">-</td>
                    <td id="resTargetA">80% (Â±5%)</td>
                </tr>
                <tr>
                    <td id="resAssetNameB">JEPI</td>
                    <td id="resJEPIVal" class="highlight">-</td>
                    <td id="resJEPIPct">-</td>
                    <td id="resTargetB">20% (Â±5%)</td>
                </tr>
                <tr>
                    <td><strong>ç¸½è³‡ç”¢</strong></td>
                    <td id="resTotal" class="highlight" colspan="3">-</td>
                </tr>
            </tbody>
        </table>

        <div id="statusBox" class="status-box"></div>
        <div id="dcaAdvice" class="dca-advice"></div>
        <div id="actionSteps" class="action-steps" style="display:none;"></div>
    </div>
    
    <div class="note">æ‰€æœ‰é‡‘é¡ä»¥ K$ (åƒç¾å…ƒ) è¨ˆç®—ã€‚</div>
</div>


<script>
    // å…¨å±€è®Šé‡ç”¨æ–¼å­˜å„²ç•¶å‰ç›®æ¨™æ¯”ä¾‹
    let targetA_pct = 80;
    let targetB_pct = 20;
    const themeLabel = document.getElementById('theme-label');

    // è¨­ç½®ç›®æ¨™æ¯”ä¾‹ (ä¿ç•™ç”¨æˆ¶åŸæœ‰é‚è¼¯)
    function setTarget(A, B) {
        targetA_pct = A;
        targetB_pct = B;
        
        // æ›´æ–°æŒ‰éˆ•æ¨£å¼ 
        document.getElementById('btn-80-20').classList.toggle('active', A === 80);
        document.getElementById('btn-70-30').classList.toggle('active', A === 70);
        document.getElementById('btn-60-40').classList.toggle('active', A === 60); 
        document.getElementById('btn-50-50').classList.toggle('active', A === 50); 

        // æ›´æ–°çµæœè¡¨æ ¼ä¸­çš„ç›®æ¨™é¡¯ç¤º (é å…ˆæ›´æ–°)
        const tolerance = parseFloat(document.getElementById('tolerance').value) || 5;
        document.getElementById('resTargetA').innerText = `${targetA_pct}% (Â±${tolerance}%)`;
        document.getElementById('resTargetB').innerText = `${targetB_pct}% (Â±${tolerance}%)`;
    }
    
    // åˆå§‹åŒ–ç›®æ¨™æ¯”ä¾‹
    document.addEventListener('DOMContentLoaded', () => {
        setTarget(80, 20); // é è¨­ 80/20
    });

    // ****** ä¸»é¡Œåˆ‡æ›é‚è¼¯ (ä¾†è‡ªèˆŠè¨ˆç®—æ©Ÿ) ******
    function toggleTheme() {
        const body = document.body;
        if (body.classList.contains('light-theme')) {
            body.classList.remove('light-theme');
            body.classList.add('dark-theme');
            themeLabel.textContent = 'æ·±è‰²æ¨¡å¼ (Neumorphism)';
        } else {
            body.classList.remove('dark-theme');
            body.classList.add('light-theme');
            themeLabel.textContent = 'æ·ºè‰²æ¨¡å¼ (Glassmorphism)';
        }
    }
    
    // ****** æ ¸å¿ƒè¨ˆç®—é‚è¼¯ (ä¿ç•™ç”¨æˆ¶åŸæœ‰é‚è¼¯) ******
    function calculate() {
        // 1. ç²å–è‡ªå®šç¾©åç¨±å’Œè¨­å®š
        const assetAName = document.getElementById('assetAName').value.toUpperCase().trim() || 'Asset A';
        const assetBName = document.getElementById('assetBName').value.toUpperCase().trim() || 'Asset B';
        const tolerance = parseFloat(document.getElementById('tolerance').value) || 5;
        
        // 2. ç²å–æ•¸å€¼è¼¸å…¥
        const qqqVal = parseFloat(document.getElementById('qqqVal').value) || 0;
        const jepiVal = parseFloat(document.getElementById('jepiVal').value) || 0;
        const dcaAmount = parseFloat(document.getElementById('dcaAmount').value) || 0;
        
        const totalVal = qqqVal + jepiVal;

        if (totalVal <= 0) {
            alert("ç¸½è³‡ç”¢å¿…é ˆå¤§æ–¼ 0 æ‰èƒ½è¨ˆç®—æ¯”ä¾‹");
            return;
        }

        // 3. è¨ˆç®—å®¹å¿ç¯„åœ
        const minA = targetA_pct - tolerance;
        const maxA = targetA_pct + tolerance;
        
        // 4. å‹•æ…‹æ›´æ–°ä»‹é¢æ¨™ç±¤
        document.getElementById('assetALabel').innerText = `${assetAName} ç•¶å‰å¸‚å€¼ (K$)`;
        document.getElementById('assetBLabel').innerText = `${assetBName} ç•¶å‰å¸‚å€¼ (K$)`;
        document.getElementById('resAssetNameA').innerText = assetAName;
        document.getElementById('resAssetNameB').innerText = assetBName;
        document.getElementById('resTargetA').innerText = `${targetA_pct}% (Â±${tolerance}%)`;
        document.getElementById('resTargetB').innerText = `${targetB_pct}% (Â±${tolerance}%)`;

        // 5. è¨ˆç®—æ¯”ä¾‹ (æ ¸å¿ƒè³‡ç”¢ A ä½”æ¯”)
        const assetAPct = (qqqVal / totalVal) * 100;
        
        // 6. æ›´æ–°è¡¨æ ¼é¡¯ç¤º
        document.getElementById('resQQQVal').innerText = `K$${qqqVal.toFixed(2)}`;
        document.getElementById('resQQQPct').innerText = `${assetAPct.toFixed(2)}%`;
        document.getElementById('resJEPIVal').innerText = `K$${jepiVal.toFixed(2)}`;
        document.getElementById('resJEPIPct').innerText = `${(100 - assetAPct).toFixed(2)}%`;
        document.getElementById('resTotal').innerText = `K$${totalVal.toFixed(2)}`;

        document.getElementById('resultPanel').style.display = "block";

        // 7. åˆ¤æ–·é‚è¼¯ (Trigger Point)
        const statusBox = document.getElementById('statusBox');
        const actionSteps = document.getElementById('actionSteps');
        const dcaAdvice = document.getElementById('dcaAdvice');
        
        let needsRebalance = false;
        let message = "";
        
        if (assetAPct > maxA) {
            needsRebalance = true;
            message = `âš ï¸ ${assetAName} ä½”æ¯”éé«˜ (${assetAPct.toFixed(2)}% > ${maxA}%)ï¼Œå·²é”åˆ°è§¸ç™¼é»ã€‚`;
            statusBox.className = "status-box status-warn";
        } else if (assetAPct < minA) {
            needsRebalance = true;
            message = `âš ï¸ ${assetAName} ä½”æ¯”éä½ (${assetAPct.toFixed(2)}% < ${minA}%)ï¼Œå·²é”åˆ°è§¸ç™¼é»ã€‚`;
            statusBox.className = "status-box status-warn";
        } else {
            message = "âœ… æŠ•è³‡çµ„åˆæ¯”ä¾‹å¥åº·ï¼Œç„¡éœ€èª¿æ•´ç¾æœ‰å€‰ä½ã€‚";
            statusBox.className = "status-box status-ok";
        }
        
        statusBox.innerText = message;

        // --- 8. å‚³çµ±å†å¹³è¡¡å»ºè­° (ç¾æœ‰å€‰ä½) ---
        if (needsRebalance) {
            actionSteps.style.display = "block";
            
            // ç›®æ¨™å¸‚å€¼
            const targetA = totalVal * (targetA_pct / 100);
            const diffA = targetA - qqqVal; // æ­£æ•¸ï¼šè²·å…¥ Aï¼›è² æ•¸ï¼šè³£å‡º A
            const diffB = -diffA; // è³‡ç”¢ B å¿…é ˆæŠµéŠ·
            
            const assetAAct = diffA > 0 ? `<span style="color:green">è²·å…¥ K$${Math.abs(diffA).toFixed(2)}</span>` : `<span style="color:red">è³£å‡º K$${Math.abs(diffA).toFixed(2)}</span>`;
            const assetBAct = diffB > 0 ? `<span style="color:green">è²·å…¥ K$${Math.abs(diffB).toFixed(2)}</span>` : `<span style="color:red">è³£å‡º K$${Math.abs(diffB).toFixed(2)}</span>`;

            actionSteps.innerHTML = `
                <strong>ğŸ› ï¸ å‚³çµ±å†å¹³è¡¡å»ºè­° (å€‰ä½èª¿æ•´)ï¼š</strong><br>
                å¦‚æœæ‚¨æ±ºå®šç«‹å³èª¿æ•´ç¾æœ‰å€‰ä½ï¼Œéœ€è¦åŸ·è¡Œä»¥ä¸‹æ“ä½œï¼š<br>
                ç‚ºäº†é”åˆ° ${targetA_pct}/${targetB_pct} æ¯”ä¾‹ï¼š<br>
                1. ${assetAName}: ${assetAAct}<br>
                2. ${assetBName}: ${assetBAct}
            `;
        } else {
            actionSteps.style.display = "none";
        }

        // --- 9. æœˆä¾›åˆ†é…å»ºè­° (DCA Rebalancing) ---
        let dcaMsg = "";

        if (dcaAmount > 0) {
            if (needsRebalance) {
                // å¦‚æœå·²ç¶“è§¸ç™¼å†å¹³è¡¡ï¼Œæœˆä¾›æ‡‰å…¨åŠ›æŠ•å…¥ä¸è¶³çš„è³‡ç”¢
                if (assetAPct > targetA_pct) { // æ ¸å¿ƒè³‡ç”¢ A éé‡ï¼Œæœˆä¾›å…¨åŠ›è²·è³‡ç”¢ B
                    dcaMsg = `
                        <strong>ğŸ”¥ æœˆä¾›å»ºè­° (ä¿®æ­£æ¨¡å¼)ï¼š</strong><br>
                        ç”±æ–¼ ${assetAName} åš´é‡è¶…é‡ï¼Œå»ºè­°å°‡ **100%** (${dcaAmount.toFixed(2)} K$) çš„æœˆä¾›å…¨éƒ¨æŠ•å…¥ï¼š
                        <br>â¡ï¸ <strong style="color: ${document.body.classList.contains('dark-theme') ? '#48bb78' : 'darkgreen'}">${assetBName}</strong>
                        <br><small>ç›´è‡³æ•´é«”çµ„åˆæ¯”ä¾‹å›åˆ° ${targetA_pct}/${targetB_pct} ç¯„åœç‚ºæ­¢ã€‚</small>
                    `;
                } else if (assetAPct < targetA_pct) { // æ ¸å¿ƒè³‡ç”¢ A éè¼•ï¼Œæœˆä¾›å…¨åŠ›è²·è³‡ç”¢ A
                     dcaMsg = `
                        <strong>ğŸ”¥ æœˆä¾›å»ºè­° (ä¿®æ­£æ¨¡å¼)ï¼š</strong><br>
                        ç”±æ–¼ ${assetAName} åš´é‡ä¸è¶³ï¼Œå»ºè­°å°‡ **100%** (${dcaAmount.toFixed(2)} K$) çš„æœˆä¾›å…¨éƒ¨æŠ•å…¥ï¼š
                        <br>â¡ï¸ <strong style="color: ${document.body.classList.contains('dark-theme') ? '#48bb78' : 'darkgreen'}">${assetAName}</strong>
                        <br><small>ç›´è‡³æ•´é«”çµ„åˆæ¯”ä¾‹å›åˆ° ${targetA_pct}/${targetB_pct} ç¯„åœç‚ºæ­¢ã€‚</small>
                    `;
                }
            } else {
                // æ¯”ä¾‹å¥åº·ï¼Œæœˆä¾›æŒ‰ç›®æ¨™æ¯”ä¾‹åˆ†é…
                const dcaA = dcaAmount * (targetA_pct / 100);
                const dcaB = dcaAmount * (targetB_pct / 100);
                dcaMsg = `
                    <strong>ğŸ‘ æœˆä¾›å»ºè­° (æ­£å¸¸æ¨¡å¼)ï¼š</strong><br>
                    ç›®å‰çš„å€‰ä½æ¯”ä¾‹å¥åº·ï¼Œå»ºè­°æœˆä¾›æŒ‰ç›®æ¨™ ${targetA_pct}/${targetB_pct} æ¯”ä¾‹åˆ†é…ï¼š
                    <br>â¡ï¸ ${assetAName} ${targetA_pct}% (K$${dcaA.toFixed(2)})
                    <br>â¡ï¸ ${assetBName} ${targetB_pct}% (K$${dcaB.toFixed(2)})
                `;
            }
        } else {
            dcaMsg = "è«‹è¼¸å…¥ã€Œæ¯æœˆä¾›æ¬¾é‡‘é¡ (K$)ã€ä»¥ç²å–æœˆä¾›åˆ†é…å»ºè­°ã€‚";
        }

        dcaAdvice.innerHTML = dcaMsg;
    }
</script>

</body>
</html>